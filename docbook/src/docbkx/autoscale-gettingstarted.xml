<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE book [
<!-- Some useful entities borrowed from HTML -->
<!ENTITY ndash "&#x2013;">
<!ENTITY mdash "&#x2014;">
<!ENTITY hellip "&#x2026;">

<!-- Useful for describing APIs -->
<!ENTITY GET '<command xmlns="http://docbook.org/ns/docbook">GET</command>'>
<!ENTITY PUT '<command xmlns="http://docbook.org/ns/docbook">PUT</command>'>
<!ENTITY POST '<command xmlns="http://docbook.org/ns/docbook">POST</command>'>
<!ENTITY DELETE '<command xmlns="http://docbook.org/ns/docbook">DELETE</command>'>

<!ENTITY PRODNAME "Rackspace Auto Scale">
<!-- in PDF: for line 1 on the cover page -->
<!ENTITY PRODABBV "Rackspace Auto Scale">
<!-- in PDF: for page headers -->
<!ENTITY PROD "Auto Scale">
<!-- in body -->

<!-- changing authentication endpoints; define entities for US & UK rather than maintaining in text -->
<!ENTITY ENDPOINT-US "https://identity.api.rackspacecloud.com/v1.1/">
<!ENTITY ENDPOINT-UK "https://lon.identity.api.rackspacecloud.com/v1.1/">
<!ENTITY ENDPOINT-US-20 "https://identity.api.rackspacecloud.com/v2.0/">
<!ENTITY ENDPOINT-UK-20 "https://lon.identity.api.rackspacecloud.com/v2.0/">

<!ENTITY CHECK '<inlinemediaobject xmlns="http://docbook.org/ns/docbook">
<imageobject>
    <imagedata fileref="img/Check_mark_23x20_02.svg" format="SVG" scale="60" />
</imageobject>
</inlinemediaobject>'>

<!ENTITY ARROW '<inlinemediaobject xmlns="http://docbook.org/ns/docbook">
<imageobject>
    <imagedata fileref="img/Arrow_east.svg" format="SVG" scale="60" />
</imageobject>
</inlinemediaobject>'>

<!-- Useful for specs -->
<!ENTITY MAY '<emphasis xmlns="http://docbook.org/ns/docbook" role="strong">MAY</emphasis>'>
<!ENTITY SHOULD '<emphasis xmlns="http://docbook.org/ns/docbook" role="strong">SHOULD</emphasis>'>
<!ENTITY MUST '<emphasis xmlns="http://docbook.org/ns/docbook" role="strong">MUST</emphasis>'>
<!ENTITY MUST_NOT '<emphasis xmlns="http://docbook.org/ns/docbook" role="strong">MUST NOT</emphasis>'> ]>

<book version="5.0" xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"
xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:svg="http://www.w3.org/2000/svg" xmlns:m="http://www.w3.org/1998/Math/MathML"
xmlns:html="http://www.w3.org/1999/xhtml" xml:id="autoscale-getting-started" xmlns:raxm="http://docs.rackspace.com/api/metadata">
    <!-- The &PRODNAME; and &PRODABBV; are set in the entities at the top of this document -->
    <title>&PRODNAME; API Getting Started Guide</title>
    <titleabbrev>&PRODABBV; Getting Started Guide</titleabbrev>
    <?rax title.font.size="35px" subtitle.font.size="20px" canonical.url.base="http://docs.rackspace.com/cas/api/v1.0/autoscale-gettingstarted/content"
    ?>
        <info>
            <releaseinfo>API v1.0</releaseinfo>
            <productname>&PRODNAME;</productname>
            <!-- enter the publication date of this document; in revhistory, explain what changed -->
            <pubdate/>
            <copyright>
            <year>2014</year>
            <holder>Rackspace US, Inc.</holder>
        </copyright>
            <legalnotice role="rs-api">
                <annotation>
                    <remark>Copyright details are filled in by the template.
                    </remark>
                </annotation>
            </legalnotice>
            <revhistory>
                <revision>
                    <date>2014-05-14</date>
                    <revdescription>
                        <itemizedlist spacing="compact">
                            <listitem>
                                <para>Fixed link to KC FAQ that had changed.</para>
                            </listitem>
                        </itemizedlist>
                    </revdescription>
                </revision>
                <revision>
                <date>2014-03-26</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Added IAD to
                                service endpoints and added comment about
                                verifying the service endpoints by
                                issuing the call being the best way to
                                know what they are.</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision>
                <date>2013-11-19</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Updating content for UA</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
                <revision>
                    <date>2013-10-31</date>
                    <revdescription>
                        <itemizedlist spacing="compact">
                            <listitem>
                                <para>Added new content and images</para>
                            </listitem>
                        </itemizedlist>
                    </revdescription>
                </revision>
                <revision>
                    <date>2013-10-15</date>
                    <revdescription>
                        <itemizedlist spacing="compact">
                            <listitem>
                                <para>Added new content on Deleting a Scaling Group</para>
                            </listitem>
                        </itemizedlist>
                    </revdescription>
                </revision>
                <revision>
                    <date>2013-08-13</date>
                    <revdescription>
                        <itemizedlist spacing="compact">
                            <listitem>
                                <para>Initial Early Access release</para>
                            </listitem>
                        </itemizedlist>
                    </revdescription>
                </revision>
                <revision>
                    <date>2013-08-02</date>
                    <revdescription>
                        <itemizedlist spacing="compact">
                            <listitem>
                                <para>Additional updates after edit</para>
                            </listitem>
                        </itemizedlist>
                    </revdescription>
                </revision>
                <revision>
                    <date>2013-07-22</date>
                    <revdescription>
                        <itemizedlist spacing="compact">
                            <listitem>
                                <para>Initial internal draft for preview release
                                </para>
                            </listitem>
                        </itemizedlist>
                    </revdescription>
                </revision>
            </revhistory>
            <!-- raxm:product appears in WAR for publication: cas-v1.0-autoscale-gettingstarted-internal.war -->
            <raxm:metadata xmlns:raxm="http://docs.rackspace.com/api/metadata">
                <raxm:displayname>Getting Started Guide</raxm:displayname>
                <raxm:product version="v1.0">cas</raxm:product>
                <raxm:priority>10</raxm:priority>
            </raxm:metadata>
        </info>
        <chapter xml:id="Overview">
            <title>Overview</title>
            <para>Rackspace Auto Scale is an API-based tool that automatically scales resources in response
                to an increase or decrease in overall workload based on user-defined thresholds.</para>
            <section xml:id="Doc_Change_History">
                <title>Document Change History</title>
                <para>This version of the document replaces and obsoletes all previous versions. The most recent
                    changes are described in the following table:</para>
                <?rax revhistory?>
            </section>
            <!-- try again later
<xi:include href="./chapters/resources.xml"/>
-->
            <section xml:id="What_You_Will_Learn">
                <title>What You Will Learn in this Guide</title>
                <para>After reading the Auto Scale Getting Started Guide you will know the following:</para>
                <itemizedlist>
                    <listitem>
                        <para>Prerequisites for Using Auto Scale</para>
                    </listitem>
                    <listitem>
                        <para>How Auto Scale Works</para>
                    </listitem>
                </itemizedlist>
                <para>After going throught the examples in this guide, you will be able to complete the following
                    tasks:</para>
                <itemizedlist>
                    <listitem>
                        <para>Create a Scaling Group and a Launch Configuration
                        </para>
                    </listitem>
                    <listitem>
                        <para>Delete a scaling group.</para>
                    </listitem>
                </itemizedlist>
            </section>
            <section xml:id="Resources" xmlns:xlink="http://www.w3.org/1999/xlink">
                <title>Before You Get Started</title>
                <para>To go through the steps that are described in this guide, you need to have the following:</para>
                <para>
                    <itemizedlist>
                        <listitem>
                            <para>Rackspace Cloud account. To sign up for a Rackspace Cloud account, go to
                                the Rackspace Public Cloud
                                <link xlink:href="https://cart.rackspace.com/cloud/signup/">signup page</link>.</para>
                        </listitem>
                        <listitem>
                            <para>A Rackspace username and password specified during registration.</para>
                        </listitem>
                    </itemizedlist>
                </para>
            </section>
            <section xml:id="serviceEndpoints">
                <title>Service Access Endpoints</title>
                <para>&PRODNAME; is a regionalized service. The user of the service is therefore responsible
                    for appropriate replication, caching, and overall maintenance of &PRODNAME; data
                    across regional boundaries to other &PROD; servers.</para>
                <para>The following table lists the service access
                endpoints for &PROD; though we recommend checking the
                endpoints returned in the authentication response for
                the most up-to-date information.</para>
                <?rax-fo keep-with-next?>
                    <para>
                        <table rules="all">
                            <caption>Regionalized Service Endpoints</caption>
                            <col width="11%" />
                            <col width="11%" />
                            <col width="16%" />
                            <col width="16%" />
                            <col width="16%" />
                            <col width="16%" />
                            <col width="16%" />
                            <thead>
                                <tr align="center">
                                    <td colspan="2">Region</td>
                                    <td colspan="5">Endpoint</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr align="left">
                                    <td colspan="2">Chicago (ORD)</td>
                                    <td colspan="5">
                                        <code>https://ord.autoscale.api.rackspacecloud.com/v1.0/</code>
                                        <parameter>1234</parameter>/
                                    </td>
                                </tr>
                                <tr align="left">
                                    <td colspan="2">Dallas/Ft. Worth (DFW)</td>
                                    <td colspan="5">
                                        <code>https://dfw.autoscale.api.rackspacecloud.com/v1.0/</code>
                                        <parameter>1234</parameter>/
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="2">Dulles (IAD)</td>
                                    <td colspan="5">
                                        <code>https://iad.autoscale.api.rackspacecloud.com/v1.0/</code>
                                        <parameter>1234</parameter>/
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="2">Hong Kong (HKG)</td>
                                    <td colspan="5">
                                        <code>https://hkg.autoscale.api.rackspacecloud.com/v1.0/</code>
                                        <parameter>1234</parameter>/
                                    </td>
                                </tr>
                                <tr align="left">
                                    <td colspan="2">London (LON)</td>
                                    <td colspan="5">
                                        <code>https://lon.autoscale.api.rackspacecloud.com/v1.0/</code>
                                        <parameter>1234</parameter>/</td>
                                </tr>
                                <tr align="left">
                                    <td colspan="2">Sydney (SYD)</td>
                                    <td colspan="5">
                                        <code>https://syd.autoscale.api.rackspacecloud.com/v1.0/</code>
                                        <parameter>1234</parameter>/</td>
                                </tr>
                            </tbody>
                        </table>
                    </para>
                    <para>Replace the Tenant ID,
                        <parameter>1234</parameter>, with your actual Tenant ID.</para>
                    <para>You will find your account number after the final '/' in the
                        <code>publicURL</code>field returned by the authentication response. For example, in
                        <olink targetdoc="autoscale-devguide" targetptr="auth-response-example-json">Example 2, “Authentication Response for US Endpoint: JSON”
                        </olink>the
                        <code>publicURL</code>field for
                        <code>autoscale</code>
                        ("https://ord.autoscale.api.rackspacecloud.com/v1.0/
                        <emphasis role="bold">1100111</emphasis>") shows that the account number is 1100111.</para>
            </section>
            <section xml:id="contractVersion">
                <title>Contract Versions</title>
                <para>The &PROD; version defines the contract and build information for the API.</para>
                <para>The contract version denotes the data model and behavior that the API supports. The requested
                    contract version is included in all request URLs. Different contract versions of
                    the API might be available at any given time and are not guaranteed to be compatible
                    with one another.</para>
                <example>
                    <title>Sample Request URL for Contract Version 1.0
                    </title>
                    <programlisting>https://ord.autoscale.api.rackspacecloud.com/
                        <emphasis role="strong">v1.0</emphasis>/1234</programlisting>
                </example>
                <note>
                    <para>This document pertains to contract version 1.0.
                    </para>
                </note>
                <para/>
            </section>
            <section xml:id="Sending_Requests_through_the_API">
                <title>Sending Requests through the API</title>
                <para>There are several options for sending requests through an API:</para>
                <itemizedlist>
                    <listitem>
                        <para>Developers and testers can use cURL, the command-line tool from
                            <link xlink:href="http://curl.haxx.se/">http://curl.haxx.se/</link>. With cURL you can send HTTP requests and receive
                            responses from the command line.
                        </para>
                    </listitem>
                    <listitem>
                        <para>If you prefer a more graphical interface, the ReST client for Firefox also works
                            for testing API calls. For more information, see
                            <link xlink:href="https://addons.mozilla.org/en-US/firefox/addon/restclient/">https://addons.mozilla.org/en-US/firefox/addon/restclient/</link>.
                        </para>
                    </listitem>
                    <listitem>
                        <para>You can also download and install rest-client from
                            <link xlink:href="http://code.google.com/p/rest-client/">http://code.google.com/p/rest-client/</link>. Test-client is a Java application
                            that lets you test ReSTful web services.
                        </para>
                    </listitem>
                </itemizedlist>
            </section>
        </chapter>
        <chapter xml:id="Core_Concepts">
            <title>How Auto Scale Works</title>
            <para>Rackspace &PROD; is an API-based tool that automatically scales resources in response to
                an increase or decrease in overall workload based on user-defined thresholds.</para>
            <para>&PROD; functions by linking these services:
                <itemizedlist>
                    <listitem>
                        <para>&PROD; API. For more information, see
                            <olink targetdoc="autoscale-devguide" targetptr="autoscale-devguide">Rackspace Auto Scale DevGuide</olink>.</para>
                    </listitem>
                    <listitem>
                        <para>Load-balanced Cloud Servers. For more information, read the Rackspace
                            <link xlink:href="http://docs.rackspace.com/loadbalancers/api/v1.0/clb-getting-started/content/DB_Doc_Change_History.html">Load Balancers Getting Started Guide
                            </link>.</para>
                    </listitem>
                </itemizedlist>You can set up a schedule for launching Auto Scale or define an event that triggers a
                webhook. You can also specify a minimum and maximum number of cloud servers for your
                scaling group, the amount of resources you want to increase or decrease, and policies
                based on percentage or real numbers.</para>
            <para>
                <note>
                    <para>&PROD; does not configure any information within a server. You must configure your
                        services to function when each server is started. We recommend automating your
                        servers' startup processes with
                        <link xlink:href="http://www.opscode.com/chef/">Chef</link>or a similar tool.</para>
                </note>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>
                            <link linkend="Schedule_Based_Configuration">Scheduled-Based Configuration
                            </link>
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            <link linkend="webhook_based_configuration">Event-Based Configuration
                            </link>
                        </para>
                    </listitem>
                </itemizedlist>
            </para>
            <section xml:id="Schedule_Based_Configuration">
                <title>Schedule-Based Configuration</title>
                <para>You can configure Auto Scale to be triggered based on a user-defined schedule that is
                    specified in one or more policies.</para>
                <para>This configuration option is helpful if you know that your Cloud Servers deployment will
                    need additional resources during certain peak times. For example, if you need additional
                    server resources during the weekend, you can define a policy that adds 50 servers
                    on Friday evening and then removes these servers again on Sunday evening to return
                    to a regular operational state.</para>
                <para>The following diagram outlines how Scaling by Schedule works:</para>
                <informalfigure>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/ScalebySchedule.png" contentwidth="6in" />
                        </imageobject>
                    </mediaobject>
                </informalfigure>
            </section>
            <section xml:id="Monitoring_Based_Configuration" security="writeonly">
                <title>Monitoring-Based Configuration</title>
                <para>You can configure Auto Scale to be triggered based on a predefined alarm or threshold
                    that has been previously set up in Cloud Monitoring.</para>
                <para>Monitoring-based configuration works the following way:</para>
                <para>
                    <orderedlist>
                        <listitem>
                            <para>In Cloud Monitoring, you configure alarms that are triggered when a high
                                utilization of resources occurs.
                            </para>
                        </listitem>
                        <listitem>
                            <para>When Cloud Monitoring sets off an alarm for high utilization of resources
                                within a group, a webhook is triggered.</para>
                        </listitem>
                        <listitem>
                            <para>The webhook launches the Rackspace Auto Scale service, which looks up the
                                policy that has been defined in accordance with the webhook. This policy
                                determines the amount of cloud servers that need to be added or removed
                                in case the alarm is triggered.</para>
                        </listitem>
                    </orderedlist>
                </para>
            </section>
            <section xml:id="webhook_based_configuration">
                <title>Event-Based Configuration</title>
                <para>You can configure Auto Scale to be triggered through a webhook, based on a predefined
                    alarm or threshold that has been previously set up in a monitoring service. Event-based
                    configuration works the following way:</para>
                <para>
                    <orderedlist>
                        <listitem>
                            <para>In your monitoring service, you configure alarms that are triggered when
                                a high utilization of resources occurs
                            </para>
                        </listitem>
                        <listitem>
                            <para>In Auto Scale, you configure a scaling group, scaling policies, and a webhook
                                to be triggered when your monitoring service sets off an alarm for high
                                utilization of resources.
                            </para>
                        </listitem>
                        <listitem>
                            <para>The webhook launches the Auto Scale service, which looks up the policy that
                                has been defined in accordance with the webhook. This policy determines
                                the amount of cloud servers that need to be added or removed.
                            </para>
                        </listitem>
                    </orderedlist>
                </para>
                <note>
                    <para>Servers added through a webhook triggered by an external monitoring service will
                        not be automatically monitored by the external monitoring service.</para>
                </note>
            </section>

        </chapter>

        <chapter xml:id="Autoscale_API">
            <title>Creating your first &PROD; Group</title>
            <para>In this section, you will learn how to create your first Auto Scale Group using a schedule-based
                configuration.
            </para>
            <para>To create your first scaling group, you will need to complete the following steps:</para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>
                            <link linkend="Generate_Authentication_Token">Generate an Authentication Token
                            </link>
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            <link linkend="List_Server_Images">List Cloud Server Images</link>
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            <link linkend="Create_Cloud_Server">Create a Cloud Server</link>
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            <link linkend="Create_a_Cloud_Server_Image">Create a Cloud Server Image</link>
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            <link linkend="Create_Group">Create a Scaling Group</link>
                        </para>
                    </listitem>
                </itemizedlist>
            </para>
            <note>
                <para>For some of the steps described in this chapter you can use the Rackspace API or the
                    Control Panel. Because this Guide aims at developers, the steps described here are
                    for the API, but the Control Panel offers another resource for completing these tasks.</para>
            </note>
            <section xml:id="Generate_Authentication_Token">
                <title>Generate an Authentication Token</title>
                <para>You need to generate a token whether you use cURL or a ReST client.</para>
                <para>The authentication token will need to be passed in for each request using the
                    <code>X-Auth-Token</code>
                    header.</para>
                <para>The following example demonstrates how to use cURL to obtain the authentication token
                    and the account number. You will need to supply the authentication token and account
                    number when making subsequent Cloud Databases API calls.</para>
                <para>Remember to replace the names in the Authenticate Request examples below with their respective
                    values:
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>
                                <emphasis role="bold">your_username</emphasis>The username is your common Rackspace Cloud username,
                                as supplied during registration.</para>
                        </listitem>
                        <listitem>
                            <para>
                                <emphasis role="bold">your_api_key</emphasis>The key is your API access key.</para>
                            <para>
                                <emphasis role="bold">To find your API Key:
                                </emphasis>
                            </para>
                            <orderedlist>
                                <listitem>
                                    <para>Log in to the Cloud Control Panel (
                                        <link xlink:href="https://mycloud.rackspace.com">https://mycloud.rackspace.com</link>).</para>
                                </listitem>
                                <listitem>
                                    <para>On the upper-right side of the top navigation pane, click your username.
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>From the menu, select
                                        <guimenuitem>Account Settings
                                        </guimenuitem>.</para>
                                </listitem>
                                <listitem>
                                    <para>In the Login Details section of the Account Settings page, locate
                                        the
                                        <guilabel>API Key</guilabel>
                                        field and click
                                        <guibutton>Show</guibutton>.</para>
                                </listitem>
                                <listitem>
                                    <para>Copy the value of the API Key and paste it into a text editor of
                                        your choice.</para>
                                </listitem>
                                <listitem>
                                    <para>Click
                                        <guibutton>Hide</guibutton>to hide the value of the API Key.</para>
                                </listitem>
                            </orderedlist>
                            <para>You also need your cloud account number. In the documentation, the account
                                number is often referred to as your tenant name or tenant ID (technically,
                                the ID is different from the name, but at Rackspace, they are the same
                                thing). Together, three components—your username, your API Key, and your
                                tenant ID or cloud account number—form the authentication credentials
                                that are required to connect to the Rackspace cloud. To find your tenant
                                ID or cloud account number, locate your username on the upper-right side
                                of the top navigation pane in the Cloud Control Panel. The tenant ID
                                or account number is in parentheses just to the right of your username.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>Notice that you authenticate using a special URL for Cloud authentication services. For
                    example, you may use
                    <code>https://identity.api.rackspacecloud.com/v2.0/tokens</code>, as shown in the following
                    Authenticate Request examples. Note that the
                    <code>v2.0</code>component in the URL indicates that you are using version 2.0 of the Cloud
                    Auth API.</para>
                <example>
                    <title>cURL Authenticate Request: JSON</title>
                    <?dbfo keep-together="always" ?>
                        <screen language="bash">
                            <command>curl</command>
                            <option>-i</option>
                            <option>-d</option>\ '{ "auth": { "RAX-KSKEY:apiKeyCredentials": { "username": "
                            <emphasis role="bold">your_username</emphasis>", "apiKey": "
                            <emphasis role="bold">your_api_key</emphasis>"} } }' \
                            <option>-H 'Content-Type: application/json'</option>\
                            <uri>'https://identity.api.rackspacecloud.com/v2.0/tokens'</uri>
                        </screen>
                </example>
                <note>
                    <para>For UK-based accounts, you may decide to use
                        <code>'https://lon.identity.api.rackspacecloud.com/v2.0/tokens'</code>
                        instead.</para>
                </note>
                <para>The authentication token
                    <code>id</code>is returned along with an
                    <code>expires</code>attribute that specifies when the token expires.</para>
                <note>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>For all response examples in this guide, the field values you receive in
                                your responses will vary from those shown here since they will be specific
                                to your account.
                            </para>
                        </listitem>
                        <listitem>
                            <para>The information shown in the Authenticate Response examples above is for
                                US-based accounts. If you authenticate against the UK-endpoint for auth,
                                you will see the service catalog information for UK-based accounts.</para>
                        </listitem>
                        <listitem>
                            <para>The
                                <code>id</code>attribute in the Authenticate Response specifies the authentication
                                token. Tokens are valid for a finite duration.</para>
                            <para>Remember to supply your authentication token wherever you see the field
                                <emphasis role="bold">your_auth_token</emphasis>
                                in the examples in this guide.</para>
                        </listitem>
                        <listitem>
                            <para>The
                                <code>expires</code>attribute denotes the time after which the token will automatically
                                become invalid. A token may be manually revoked before the time identified
                                by the expires attribute;
                                <code>expires</code>predicts a token's maximum possible lifespan but does not
                                guarantee that it will reach that lifespan. Clients are encouraged to
                                cache a token until it expires.</para>
                        </listitem>
                        <listitem>
                            <para>Applications should be designed to re-authenticate after receiving a 401
                                (Unauthorized) response from a service endpoint.
                            </para>
                        </listitem>
                    </itemizedlist>
                </note>
                <important>
                    <para>Multiple Rackspace Cloud Identity Service endpoints exist. You may use any endpoint,
                        regardless of where your account was created.
                    </para>
                </important>
                <para>The following table shows a list of valid
                endpoints for &PROD; though we recommend checking the
                endpoints returned in the authentication response for
                the most up-to-date information. </para>
                <table rules="all">
                    <caption>Regionalized Service Endpoints</caption>
                    <col width="11%" />
                    <col width="11%" />
                    <col width="16%" />
                    <col width="16%" />
                    <col width="16%" />
                    <col width="16%" />
                    <col width="16%" />
                    <thead>
                        <tr align="center">
                            <td colspan="2">Region</td>
                            <td colspan="5">Endpoint</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr align="left">
                            <td colspan="2">Chicago (ORD)</td>
                            <td colspan="5">
                                <code>https://ord.autoscale.api.rackspacecloud.com/v1.0/</code>
                                <parameter>1234</parameter>/
                            </td>
                        </tr>
                        <tr align="left">
                            <td colspan="2">Dallas/Ft. Worth (DFW)</td>
                            <td colspan="5">
                                <code>https://dfw.autoscale.api.rackspacecloud.com/v1.0/</code>
                                <parameter>1234</parameter>/
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">Dulles (IAD)</td>
                            <td colspan="5">
                                <code>https://iad.autoscale.api.rackspacecloud.com/v1.0/</code>
                                <parameter>1234</parameter>/
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">Hong Kong (HKG)</td>
                            <td colspan="5">
                                <code>https://hkg.autoscale.api.rackspacecloud.com/v1.0/</code>
                                <parameter>1234</parameter>/
                            </td>
                        </tr>
                        <tr align="left">
                            <td colspan="2">London (LON)</td>
                            <td colspan="5">
                                <code>https://lon.autoscale.api.rackspacecloud.com/v1.0/</code>
                                <parameter>1234</parameter>/</td>
                        </tr>
                        <tr align="left">
                            <td colspan="2">Sydney (SYD)</td>
                            <td colspan="5">
                                <code>https://syd.autoscale.api.rackspacecloud.com/v1.0/</code>
                                <parameter>1234</parameter>/</td>
                        </tr>
                    </tbody>
                </table>
                <para>Replace the Tenant ID,
                    <parameter>1234</parameter>, with your actual Tenant ID.</para>
                <para>You will find your tenant Id after the final '/' in the
                    <code>publicURL</code>field returned by the authentication response. For example, in
                    <olink
                        targetdoc="autoscale-devguide" targetptr="auth-response-example-json">Example 2, “Authentication Response for US Endpoint: JSON”</olink>the
                    <code>publicURL</code>field for
                    <code>autoscale</code>
                    ("https://ord.autoscale.api.rackspacecloud.com/v1.0/
                    <emphasis role="bold">1100111</emphasis>") shows that the tenant Id is 1100111.</para>
                <para>
                    <note>
                        <para>Auto Scale supports Role-based Access Control (RBAC) for more information, read
                            the
                            <link xlink:href="http://ord.admin.kc.rakr.net/knowledge_center/article/permissions-matrix-for-auto-scale">Permissions Matrix for Auto Scale</link>
                            article on the Knowledge Center.</para>
                    </note>
                </para>
            </section>
            <section xml:id="List_Server_Images">
                <title>List Cloud Server Images</title>
                <para>Before you create a server through the Cloud Server API, you need to obtain a list of
                    available images so that you can choose one for your new server.</para>
                <para>After you choose an image, copy its image ID. You use this image ID when you create the
                    server.</para>
                <para>Use the Cloud Servers API to issue a
                    <link xlink:href="http://docs.rackspace.com/servers/api/v2/cs-devguide/content/images-d1e4427.html">List Images</link>request to retrieve a list of options available for configuring
                    your server. The following example shows how to request a list cloud server images.</para>
                <para>
                    <example>
                        <title>Requesting a List of Cloud Server Images</title>
                        <programlisting language="bash">$ curl -X GET \ -H "Content-Type: application/json" \ -H "X-Auth-token:{auth-token}"
                            \ https://ord.servers.api.rackspacecloud.com/v2/{tenant-id}/images?type=SNAPSHOT
                            | python -mjson.tool
                        </programlisting>
                    </example>
                </para>
                <para>
                    <orderedlist>
                        <listitem>
                            <para>After creating your server you customize it so that it can process your requests.
                                For example, if you are building a webhead scaling group, configure Apache
                                to start on launch and serve the files that you need.
                            </para>
                        </listitem>
                        <listitem>
                            <para>After you have created and customized your server, save its image and record
                                the imageID value that is returned in the response body.</para>
                        </listitem>
                    </orderedlist>
                </para>
            </section>
            <section xml:id="Create_Cloud_Server">
                <title>Create a Cloud Server</title>
                <para>After you have obtained the imageID for the server image you want to create, you need
                    to create your cloud server. Auto Scale will use the configuration info in this server
                    image as a blueprint for create new server images.</para>
                <para>You can create a server using one of the following methods:
                    <orderedlist>
                        <listitem>
                            <para>Create a server through the
                                <link xlink:href="http://mycloud.rackspace.com/">Control Panel</link>.</para>
                        </listitem>
                        <listitem>
                            <para>Create a server through the Cloud Servers API by using a
                                <link xlink:href="http://docs.rackspace.com/servers/api/v2/cs-devguide/content/CreateServers.html">Create Server</link>request.</para>
                        </listitem>
                    </orderedlist>
                </para>
            </section>
            <section xml:id="Create_a_Cloud_Server_Image">
                <title>Create a Cloud Server Image</title>
                <para>After you have created a Cloud Server, you need to create an image, which Auto Scale
                    will use to create new servers.</para>
                <para>You can create a server image using one of the following methods:
                    <orderedlist>
                        <listitem>
                            <para>Create a server image through the
                                <link xlink:href="http://mycloud.rackspace.com/">Control Panel</link>. Make sure to record the imageID value for the image
                                you have created.</para>
                        </listitem>
                        <listitem>
                            <para>Create a server image through the Cloud Servers API by using a
                                <link xlink:href="http://docs.rackspace.com/servers/api/v2/cs-devguide/content/Create_Image-d1e4655.html">Create Image</link>request to obtain the imageID value, use a
                                <link xlink:href="http://docs.rackspace.com/servers/api/v2/cs-gettingstarted/content/curl_list_images.html">List Images</link>request as shown in the
                                <link linkend="List_Server_Images">List Cloud Server Images</link>
                                section.</para>
                        </listitem>
                    </orderedlist>
                </para>
            </section>
            <section xml:id="Create_Group">
                <title>Create a Scaling Group</title>
                <para>Now you are ready to create your first scaling group. For this exercise, you will create
                    a schedule-based scaling group that will trigger a scaling event at 11 P.M. daily.
                    The following example shows how to create a schedule-based scaling group by submitting
                    a POST request using cURL.</para>
                <example>
                    <title>Creating a Scaling Group</title>
                    <programlisting language="json">
                        <xi:include href="./samples/reqCreateGroup.json" parse="text" />
                    </programlisting>
                    <para>If the
                        <command>POST</command>request is successful, the response data will be returned in JSON
                        format as shown in the following example:
                    </para>
                    <example>
                        <title>Response for Successful Create a Scaling Group Request</title>
                        <programlisting language="json">
                            <xi:include href="./samples/resCreateGroup.json" parse="text" />
                        </programlisting>
                    </example>
                </example>
            </section>
            <section xml:id="Delete_Scaling_Group">
                <title>Delete a Scaling Group</title>
                <para>You can use the Auto Scale API to deactivate and delete one or more scaling groups. Your
                    options for deleting the scaling group depend on whether your scaling group has active
                    entities or not.</para>
                <para>When a group contains no servers, you can eliminate the group by sending a
                    <command>DELETE</command>
                    request to its group ID.</para>
                <para>The following three options are possible for deleting a scaling group:</para>
                <para>
                    <itemizedlist>
                        <listitem>
                            <para>If there are no active entities in your configuration, use the
                                <command>DELETE</command>request to delete the scaling group.</para>
                        </listitem>
                        <listitem>
                            <para>If there are active entities in your configuration, update your scaling group
                                configuration by submitting a
                                <command>PUT
                                </command>request and setting the
                                <parameter>minEntities</parameter>and
                                <parameter>maxEntities</parameter>
                                parameters to 0.</para>
                        </listitem>
                        <listitem>
                            <para>Force the deletion of your group by submitting a
                                <command>DELETE</command>
                                request and setting the
                                <parameter>force</parameter>parameter to true.</para>
                        </listitem>
                    </itemizedlist>
                </para>
                <section xml:id="Delete_Scaling_Group_No_Active_Entities">
                    <title>Delete a Scaling Group with no Active Entities
                    </title>
                    <para>To delete a scaling policy group that has no active entities, submit a
                        <command>DELETE</command>request with the
                        <parameter>tenantID</parameter>and
                        <parameter>groupID</parameter>parameters specified in the request URL as shown in the following
                        example:</para>
                    <example>
                        <title>Delete a Scaling Group</title>
                        <programlisting language="json">
                            <xi:include href="./samples/reqDeleteGroup.json" parse="text" />
                        </programlisting>
                    </example>
                    <para>If the
                        <command>DELETE</command>request is successful, a 204 response code with no response body
                        will be returned. If the request fails, a 403 response code will be returned
                        with a message stating that your group still has active entities as shown in
                        the following example:</para>
                    <example>
                        <title>Response to Failed DELETE Request</title>
                        <programlisting>
                            "Group d5f5f3ad-faef-4c8f-99c4-0e931189c521 for tenant 829409 still has entities."
                        </programlisting>
                    </example>
                </section>
                <section xml:id="Delete_Scaling_Group_with_Active_Entities">
                    <title>Delete a Scaling Group with Active Entities
                        <?sbr?>
                            <?sbr?>
                    </title>
                    <para>If you have submitted a
                        <command>DELETE</command>request and received a response saying that your group still
                        has active entities, go through the following steps:</para>
                    <para>
                        <orderedlist>
                            <listitem>
                                <para>Update the scaling group configuration by submitting a
                                    <command>PUT</command>request that sets the
                                    <parameter>minEntities</parameter>
                                    and
                                    <parameter>maxEntities</parameter>
                                    parameters to 0 as shown in the following example:</para>
                                <example>
                                    <title>PUT Request setting minEntities and maxEntities to 0</title>
                                    <programlisting>
                                        PUT /{tenantId}/groups/{groupId}/config
                                    </programlisting>
                                </example>
                                <programlisting language="json">
                                    <xi:include href="./samples/reqPutGroupConfig-size0.json" parse="text" />
                                </programlisting>
                            </listitem>
                            <listitem>
                                <para>Submit a
                                    <command>DELETE</command>
                                    request with the
                                    <parameter>tenantId</parameter>and
                                    <parameter>groupId</parameter>
                                    parameters specified in the request URL:</para>
                                <example>
                                    <title>DELETE Request</title>
                                    <programlisting>
                                        DELETE /{tenantId}/groups/{groupId}
                                    </programlisting>
                                </example>
                            </listitem>
                        </orderedlist>
                    </para>
                    <para>If the
                        <command>DELETE</command>request is successful, a 204 response code with an empty response
                        body will be returned.</para>
                </section>
                <section xml:id="Delete_Scaling_Group_Using_Force_Delete">
                    <title>Delete a Scaling Group using Force Delete
                    </title>
                    <para>The Auto Scale API provides an option for users to force delete a scaling group that
                        has active servers. The Force Delete option will remove all servers in the configuration
                        from the load balancer(s) and then delete the server.</para>
                    <para>
                        <warning>
                            <para>Using Force Delete will remove all servers that are associated with the scaling
                                group. Users are discouraged from using the Force Delete option and to
                                manually delete servers instead.</para>
                        </warning>
                    </para>
                    <para>To use the Force Delete option, submit a
                        <command>DELETE</command>request with the
                        <parameter>tenantId</parameter>and
                        <parameter>groupId</parameter>parameters specified in the request URL, and set the
                        <parameter>force</parameter>parameter to
                        <parameter>true</parameter>.</para>
                    <example>
                        <title>DELETE Request using Force Delete</title>
                        <programlisting>
                            DELETE /{tenantId}/groups/{groupId}?force=true
                        </programlisting>
                    </example>
                    <para>Upon successful submission of this request the
                        <parameter>minEntities</parameter>and
                        <parameter>maxEntities</parameter>parameters will automatically be set to 0 and the deletion
                        of the group will begin. If the
                        <command>DELETE</command>request is successful, a 204 response code with an empty response
                        body will be returned.</para>
                </section>
            </section>
        </chapter>
        <chapter xml:id="Next_Steps">
            <title>Next Steps</title>
            <para>Now that you have created your scaling group, you are ready to take the next steps:</para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>Update your scaling group configuration using the Auto Scale API. For more information,
                            see Working with the Auto Scale API
                            <olink targetdoc="autoscale-devguide" targetptr="Working_with_Auto_Scale_API">Working with the Auto Scale API</olink>
                            in the Auto Scale Developer's Guide.</para>
                    </listitem>
                    <listitem>
                        <para>Configure your Auto Scale deployment using the Control Panel.</para>
                    </listitem>
                    <listitem>
                        <para>If you want to learn more about configuring a Performance Cloud Server, read
                            <link xlink:href="http://www.rackspace.com/knowledge_center/article/creating-an-image-of-your-performance-cloud-server-with-the-control-panel">Creating an Image of Your Performance Cloud Server with the Control Panel</link>
                            on the Knowledge Center.</para>
                    </listitem>
                    <listitem>
                        <para>For a list of FAQs on Auto Scale, read
                            <link xlink:href="http://www.rackspace.com/knowledge_center/product-faq/auto-scale">the Auto Scale FAQ page on the Knowledge Center
                            </link>.</para>
                    </listitem>
                    <listitem>
                        <para>To learn more about the key concepts in Auto Scale, read
                            <olink targetdoc="autoscale-devguide" targetptr="Glossary">Auto Scale Core Concepts
                            </olink>.</para>
                    </listitem>
                </itemizedlist>
            </para>
        </chapter>
</book>
