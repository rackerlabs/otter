<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE book [
<!-- Some useful entities borrowed from HTML -->
<!ENTITY ndash "&#x2013;">
<!ENTITY mdash "&#x2014;">
<!ENTITY hellip "&#x2026;">

<!-- Useful for describing APIs -->
<!ENTITY GET '<command xmlns="http://docbook.org/ns/docbook">GET</command>'>
<!ENTITY PUT '<command xmlns="http://docbook.org/ns/docbook">PUT</command>'>
<!ENTITY POST '<command xmlns="http://docbook.org/ns/docbook">POST</command>'>
<!ENTITY DELETE '<command xmlns="http://docbook.org/ns/docbook">DELETE</command>'>

<!ENTITY PRODNAME "Rackspace Auto Scale">
<!-- in PDF: for line 1 on the cover page -->
<!ENTITY PRODABBV "Rackspace Auto Scale">
<!-- in PDF: for page headers -->
<!ENTITY PROD "Auto Scale">
<!-- in body -->

<!-- changing authentication endpoints; define entities for US & UK rather than maintaining in text -->
<!ENTITY ENDPOINT-US "https://identity.api.rackspacecloud.com/v1.1/">
<!ENTITY ENDPOINT-UK "https://lon.identity.api.rackspacecloud.com/v1.1/">
<!ENTITY ENDPOINT-US-20 "https://identity.api.rackspacecloud.com/v2.0/">
<!ENTITY ENDPOINT-UK-20 "https://lon.identity.api.rackspacecloud.com/v2.0/">

<!ENTITY CHECK '<inlinemediaobject xmlns="http://docbook.org/ns/docbook">
<imageobject>
    <imagedata fileref="img/Check_mark_23x20_02.svg" format="SVG" scale="60" />
</imageobject>
</inlinemediaobject>'>

<!ENTITY ARROW '<inlinemediaobject xmlns="http://docbook.org/ns/docbook">
<imageobject>
    <imagedata fileref="img/Arrow_east.svg" format="SVG" scale="60" />
</imageobject>
</inlinemediaobject>'>

<!-- Useful for specs -->
<!ENTITY MAY '<emphasis xmlns="http://docbook.org/ns/docbook" role="strong">MAY</emphasis>'>
<!ENTITY SHOULD '<emphasis xmlns="http://docbook.org/ns/docbook" role="strong">SHOULD</emphasis>'>
<!ENTITY MUST '<emphasis xmlns="http://docbook.org/ns/docbook" role="strong">MUST</emphasis>'>
<!ENTITY MUST_NOT '<emphasis xmlns="http://docbook.org/ns/docbook" role="strong">MUST NOT</emphasis>'> ]>
<book version="5.0" xmlns="http://docbook.org/ns/docbook"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    xmlns:xi="http://www.w3.org/2001/XInclude"
    xmlns:svg="http://www.w3.org/2000/svg"
    xmlns:m="http://www.w3.org/1998/Math/MathML"
    xmlns:html="http://www.w3.org/1999/xhtml"
    xml:id="autoscale-devguide">
    <!-- The &PRODNAME; and &PRODABBV; are set in the entities at the top of this document -->
    <title>&PRODNAME; Developer Guide</title>
    <titleabbrev>&PRODABBV; Developer Guide</titleabbrev>
    <?rax title.font.size="35px" subtitle.font.size="20px" canonical.url.base="http://docs.rackspace.com/cas/api/v1.0/autoscale-devguide/content"
    ?>
    <info>
        <releaseinfo>API v1.0</releaseinfo>
        <productname>&PRODNAME;</productname>
        <!-- enter the publication date of this document; in revhistory, explain what changed -->
        <pubdate>2015-03-17</pubdate>
        <copyright>
            <year>2015</year>
            <holder>Rackspace US, Inc.</holder>
        </copyright>
        <legalnotice role="rs-api">
            <annotation>
                <remark>Copyright details are filled in by the
                    template.</remark>
            </annotation>
        </legalnotice>
        <revhistory>
            <revision xmlns:raxm="http://docs.rackspace.com/api/metadata">
                <date>2015-03-17</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Updated <link linkend="identityEndpoints">Identity endpoints </link>section. Changed launchConfiguration loadBalancerId attribute type to "String."</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision xmlns:raxm="http://docs.rackspace.com/api/metadata">
                <date>2015-01-30</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Added information to the <link linkend="Auto_Scale_Core_Concepts">Auto Scale concepts</link> chapter. Removed duplicative Key configurations and 
                                Working with the Auto Scale API sections.</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision xmlns:raxm="http://docs.rackspace.com/api/metadata">
                <date>2015-01-18</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Added additional notes to <link linkend="Launch_Configuration">Launch configurations
                                </link>section regarding SSH key restrictions and launchConfiguration update operations. 
                                Also added new <link linkend="How_Auto_Scale_Works">How Auto Scale Works </link>section.</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision xmlns:raxm="http://docs.rackspace.com/api/metadata">
                <date>2014-12-04</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Added new <code>purge</code> option to <methodname>Delete server from group</methodname> operation.
                                Updated links to Cloud Identity Guide in RBAC section and moved RBAC section
                                to General API information section. Added <xref linkend="createServerTemplate"/>
                                information to <link linkend="Launch_Configuration">Launch configuration
                                </link>section in support of using Boot from Volume. Added <link linkend="RCv3">Cloud Bursting with
                                   RackConnect v3</link> concept and information about using the <parameter>launchConfiguration
                                   loadBalancers type</parameter> parameter to configure RackConnect v3
                                for Auto Scale. See also <link linkend="Launch_Configuration">Launch configurations</link>. </para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision
                xmlns:raxm="http://docs.rackspace.com/api/metadata">
                <date>2014-10-15</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Added note to update (<methodname>PUT</methodname>) operations that all parameters are replaced with the new values provided. This means that 
                                parameters that are optional for a create (<methodname>POST</methodname>) are required for an update (<methodname>PUT</methodname>). </para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision
                xmlns:raxm="http://docs.rackspace.com/api/metadata">
                <date>2014-08-14</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Added URI parameter <parameter>{serverId}</parameter> to Delete server from scaling group section. Added links to the Auto Scale Quick Start and Rackspace Complete API Reference to <link linkend="Resources-000">Additional Resources</link> section. Fixed typo. Corrected link for <link linkend="serviceEndpoints">Service Endpoints</link> section. </para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision
                xmlns:raxm="http://docs.rackspace.com/api/metadata">
                <date>2014-07-22</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Added note and link for guidance in choosing regionalized endpoints. </para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision
                xmlns:raxm="http://docs.rackspace.com/api/metadata">
                <date>2014-07-18</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Republished to incorporate new Rackspace logo. </para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision
                xmlns:raxm="http://docs.rackspace.com/api/metadata">
                <date>2014-07-15</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Added the <parameter>deleteServer</parameter> endpoint. This endpoint allows you to delete a specified server from
                            a specified scaling group. By default the server is replaced with a server of the same launchConfiguration, but with
                            a different IP address. </para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision
                xmlns:raxm="http://docs.rackspace.com/api/metadata">
                <date>2014-06-11</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Updated the <parameter>launchConfiguration</parameter> parameter <parameter>diskConfig</parameter> argument to note that, 
                                when using non-Rackspace server images, the value must always be <parameter>MANUAL</parameter>. A non-Rackspace server
                            image would be one that you imported using a non-Rackspace server. </para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision
                xmlns:raxm="http://docs.rackspace.com/api/metadata">
                <date>2014-05-28</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Swapped out pagination code samples
                                for valid JSON. Fixed minor typos
                                throughout. Added some Glossary
                                entries. Added note about the service
                                network being required for scaling
                                group configurations that include a
                                load balancer.</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision
                xmlns:raxm="http://docs.rackspace.com/api/metadata">
                <date>2014-05-09</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Improved Faults section and
                                individual method response code
                                descriptions. Also fixed "Show scaling
                                group details including webhooks"
                                description; the parameter
                                is <parameter>webhooks</parameter> not <parameter>webhook</parameter>.</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision
                xmlns:raxm="http://docs.rackspace.com/api/metadata">
                <date>2014-04-08</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Removed duplicate parameter
                                descriptions. Improved <parameter>at</parameter> parameter
                                description. Removed internal bug
                                numbers. Modified titles per new
                                convention.</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision
                xmlns:raxm="http://docs.rackspace.com/api/metadata">
                <date>2014-03-26</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Added IAD to service endpoints in
                                the Getting Started Guide and added
                                comment about verifying the service
                                endpoints by issuing the call being
                                the best way to know what they
                                are.</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision>
                <date>2014-03-19</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Un-hid RBAC section.</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision>
                <date>2013-11-19</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Updating content for UA</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision>
                <date>2013-08-21</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Improved code sample for List All
                                Group Details.</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision>
                <date>2013-08-13</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Initial Early Access release.</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision>
                <date>2013-07-22</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Initial internal draft of full
                                developer guide for Early Access
                                release.</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision>
                <date>2013-07-02</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Initial internal draft of API
                                Operations chapter for Preview
                                release. </para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
        </revhistory>
        <!-- raxm:product appears in WAR for publication: cas-v1.0-autoscale-devguide-internal.war -->
        <raxm:metadata
            xmlns:raxm="http://docs.rackspace.com/api/metadata">
            <raxm:displayname>API Developer Guide</raxm:displayname>
            <raxm:product version="v1.0">cas</raxm:product>
            <raxm:priority>20</raxm:priority>
        </raxm:metadata>
    </info>
    <chapter xml:id="Overview">
        <title>Overview</title>
        <para>&PRODNAME; is a web service that automatically scales
            resources in response to an increase or decrease in
            overall workload based on user-defined policies. You can
            set up a schedule for launching &PROD; or define an event
            that is triggered by Cloud Monitoring. You can also
            specify a minimum and maximum number of cloud servers, the
            amount of resources that you want to increase or decrease,
            and the thresholds in Cloud Monitoring that trigger the
            scaling activities.</para>
        <para> To use &PROD;, you define a scaling group consisting of
            cloud servers and cloud load balancers or RackConnect v3.
            Then you define policies, either schedule-based or
            monitoring-based. For monitoring-based policies, you
            define cloud monitoring alerts to watch the group's
            activity, and you define scaling rules to change the
            scaling group's configuration in response to alerts. For
            schedule-based policies, you simply set a schedule.
            Because you can change a scaling group's configuration in
            response to changing workloads, you can begin with a
            minimal cloud configuration and grow only when the cost of
            that growth is justified.</para>
        <para>In this chapter, you will learn about the
            following:</para>
        <para>
            <itemizedlist>
                <listitem>
                    <para>
                        <link linkend="Intended_Audience-d1e166">Intended audience </link>
                    </para>
                </listitem>
                <listitem>
                    <para>
                        <link linkend="Doc_Change_History">Document change history </link>
                    </para>
                </listitem>
                <listitem>
                    <para>
                        <link linkend="Resources-000">Additional resources </link>
                    </para>
                </listitem>
                <listitem>
                    <para>
                        <link linkend="Pricing_SLA-d1e1362">Pricing and service level</link>
                    </para>
                </listitem>
            </itemizedlist>
        </para>
        <para/>
        <section xml:id="Intended_Audience-d1e166">
            <title>Intended audience</title>
            <para>This document is intended for software developers
                who are interested in developing applications that use
                the Rackspace &PROD; API. To use this API, you need
                the following skills: </para>
            <itemizedlist>
                <listitem>
                    <para>RESTful web services</para>
                </listitem>
                <listitem>
                    <para>HTTP/1.1 conventions</para>
                </listitem>
                <listitem>
                    <para>JSON data serialization formats</para>
                </listitem>
            </itemizedlist>
        </section>
        <section xml:id="Doc_Change_History">
            <title>Document change history</title>
            <para> This version of the document replaces and obsoletes
                all previous versions. The most recent changes are
                described in the following table: </para>
            <?rax revhistory?>
        </section>
        <!-- Resources section, suggesting other places to go for info, is external so it's handy for Getting Started to share -->
        <xi:include href="chapters/resources.xml"/>
        <!-- -->
        <section xml:id="Pricing_SLA-d1e1362">
            <title>Pricing and service level</title>
            <para>&PRODNAME; relies on other services that are part of
                the Rackspace Cloud; your use of those services
                through the API will be billed as per the pricing
                schedule published for each service: <itemizedlist>
                    <listitem>
                        <para>For Rackspace Next Gen Cloud Servers,
                            pricing is published at <link xlink:href="http://www.rackspace.com/cloud/servers/pricing">http://www.rackspace.com/cloud/servers/pricing</link>.
                        </para>
                    </listitem>
                    <listitem>
                        <para>For Rackspace Cloud Load Balancers,
                            pricing is published at <link xlink:href="http://www.rackspace.com/cloud/load-balancing/pricing/">http://www.rackspace.com/cloud/load-balancing/pricing/</link>.
                        </para>
                    </listitem>
                    <listitem>
                        <para>For Rackspace Cloud Monitoring, pricing
                            is published at <link xlink:href="http://www.rackspace.com/cloud/monitoring/pricing/">http://www.rackspace.com/cloud/monitoring/pricing/</link>.
                        </para>
                    </listitem>
                </itemizedlist>
            </para>
        </section> 
        <section xml:id="gettingHelp">
            <title>Getting help</title>
            <para>Rackspace provides fanatical support: <itemizedlist>
                <listitem>
                    <para>For support by product, go to the <link xlink:href="http://support.rackspace.com/">
                        Rackspace Support</link> page.
                    </para>
                </listitem>
                <listitem>
                        <para>To access live chat, support tickets, and support phone numbers, go to the 
                            <link xlink:href="http://www.rackspace.com/apps/support/contactform"> Contact Us</link> page.
                        </para>
                    </listitem>
                <listitem>
                    <para>For product information, access to live chat, phone numbers, or login to the Cloud Control Panel, go to the 
                        <link xlink:href="http://support.rackspace.com/">Support Home</link> page.
                    </para>
                </listitem>
                <listitem>
                    <para>To learn about Rackspace managed hosting support, go to the 
                        <link xlink:href="http://www.rackspace.com/managed_hosting/support"> Support</link> or the 
                        <link xlink:href="http://www.rackspace.com/managed_hosting/support/dedicatedteam">Dedicated Support</link>page.
                    </para>
                </listitem>
                <listitem>
                    <para>For a list of all offices, addresses, and phone numbers, go to the 
                        <link xlink:href="http://www.rackspace.com/information/contactus">Contact Rackspace</link> page.
                    </para>
                </listitem>
            </itemizedlist>
            </para>
        </section>   
        
    </chapter>
    

        <xi:include href="./chapters/concepts.xml"/>

    <chapter xml:id="Gen_API_Info-de01">
        <title>General API information</title>
        <para>The &PROD; API is implemented using a RESTful web
            service interface. Like other products in the Rackspace
            Cloud suite, &PROD; shares a common token-based
            authentication system that allows seamless access between
            products and services.</para>
        <note>
            <para>All requests to authenticate against and operate the
                service are performed using SSL over HTTP (HTTPS) on
                TCP port 443. </para>
        </note>
        <section xml:id="Authentication-d1e647">
            <title>Authentication</title>
            <para>
                <link linkend="Retrieving_Auth_Token">Retrieving the
                    authentication token</link>
            </para>
            <para>Every REST request for &PROD; requires the inclusion
                of a specific authentication token, supplied by the
                    <code>X-Auth-Token</code> HTTP header. Customers
                obtain this token by first using the Rackspace Cloud
                Identity service and supplying a valid user name and
                API access key.</para>
            
            <section xml:id="identityEndpoints">
                <title>Identity endpoints</title>
                <para>You can use the Rackspace Cloud Identity authentication endpoints from version 1.1 or version 2.0. 
                    The legacy v1.1 API endpoint only supports authentication services, but you can use tokens from version 1.1 in version 2.0 API calls.</para>
                <note><para>If your Rackspace Cloud account requires multi-factor authentication, you can only authenticate with Identity API version 2.0 or later.</para></note>
                <informaltable rules="all">
                    <col width="14%"/>
                    <col width="42%"/>
                    <col width="44%"/>
                    <thead>
                        <tr>
                            <th>Resource</th>
                            <th>V2.0</th>
                            <th>V1.0</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Global endpoint</td>
                            <td><link xlink:href="https://identity.api.rackspacecloud.com/v2.0">https://identity.api.rackspacecloud.com/v2.0</link></td>
                            <td><link xlink:href="https://identity.api.rackspacecloud.com/v1.1">https://identity.api.rackspacecloud.com/v1.1</link></td>
                        </tr>
                        <tr>
                            <td>Documentation</td>
                            <td><link xlink:href="http://docs.rackspace.com/auth/api/v2.0/auth-client-devguide/content/QuickStart-000.html">Cloud Identity Client Developer Guide - API v2.0</link></td>
                            <td><link xlink:href="http://docs.rackspace.com/auth/api/v1.1/auth-client-devguide/content/index.html">Cloud Authentication Client Developer Guide - API v1.1</link></td>
                        </tr>
                    </tbody>
                </informaltable>
                <para>In response to valid credentials, an authentication request
                    to the Cloud Identity Service returns an authentication token and a service
                    catalog that contains a list of all services and endpoints
                    available for this token. Because the authentication token
                    expires after 24 hours, you must generate a new token once a
                    day. </para>
            </section>
            
                
            <section xml:id="Retrieving_Auth_Token">
                <title>Retrieving the authentication token</title>
                <para>The authenticate operation provides users with
                    an authentication token and a list of regional
                    cloud endpoints. The sample requests and responses
                    in this section illustrate a general case. In your
                    authentication request, use your own credentials
                    rather than the sample values shown for
                        <code>username</code> and <code>apiKey</code>.
                </para>
                    <note>
                        <para>This guide uses <emphasis role="bold">yourUserName</emphasis> and <emphasis
                            role="bold">yourApiKey</emphasis> for authentication. For information about
                            other supported authentication methods, see <link
                                xlink:href="http://docs.rackspace.com/auth/api/v2.0/auth-client-devguide/content/Token_Calls.html"
                                >Authentication tokens</link> in the <citetitle>Cloud Identity Client Developer
                                    Guide</citetitle>.</para>
                    </note>
                <para>
                    When you authenticate successfully, the response
                    to your authentication request includes a catalog
                    of the services to which you have subscribed
                    rather than the sample values shown.</para>
                <para>The following table describes a request for an
                    authentication token and the examples that follow
                    show the request and response in JSON
                    format.</para>
                <table rules="all">
                    <caption>Request for Authentication
                        Token</caption>
                    <tbody>
                        <tr>
                            <td colspan="1">&POST;</td>
                            <td colspan="1">v2.0/tokens</td>
                            <td colspan="4">Authenticate to receive a
                                token and a service catalog.</td>
                        </tr>
                    </tbody>
                </table>
                <simpara>Normal Response Code(s):
                        <returnvalue>200</returnvalue>,
                        <returnvalue>203</returnvalue>
                </simpara>
                <simpara>Error Response Code(s): unauthorized (
                        <errorcode>401</errorcode>), userDisabled (
                        <errorcode>403</errorcode>), badRequest (
                        <errorcode>400</errorcode>), authFault (
                        <errorcode>500</errorcode>),
                    serviceUnavailable (
                    <errorcode>503</errorcode>)</simpara>
                <example>
                    <title>Authentication request for US endpoint:
                        JSON</title>
                    <programlistingco>
                        <areaspec>
                            <area xml:id="credentials.json.user"
                                units="linecolumn" coords="14 22"/>
                            <area xml:id="credentials.json.key"
                                units="linecolumn" coords="15 20"/>
                        </areaspec>
                        <programlisting language="json">
                                <xi:include href="samples/reqAuthenticate.json" parse="text"/>
                            </programlisting>
                    </programlistingco>
                </example>
                <calloutlist>
                    <callout arearefs="credentials.json.user">
                        <para>The <code>username</code> supplied here
                            is your common Rackspace Cloud user
                            name.</para>
                    </callout>
                    <callout arearefs="credentials.json.key">
                        <para>The key is your API access key. You can
                            obtain the key from the <link
                                xlink:href="http://mycloud.rackspace.com/"
                                >Rackspace Cloud Control
                            Panel</link>in the <guimenu>&lt;Your
                                Account> </guimenu>/ <guimenuitem>API
                                Access </guimenuitem>section.</para>
                    </callout>
                </calloutlist>
                <example xml:id="auth-response-example-json">
                    <title>Authentication response for US endpoint:
                        JSON</title>
                    <programlistingco>
                        <areaspec>
                            <area xml:id="response.json.token"
                                units="linecolumn" coords="10 8"/>
                            <area xml:id="response.json.dfltregion"
                                units="linecolumn" coords="17 12"/>
                            <area xml:id="response.json.role"
                                units="linecolumn" coords="18 12"/>
                            <area xml:id="response.json.catalog"
                                units="linecolumn" coords="31 8"/>
                            <area xml:id="response.json.service-lb"
                                units="linecolumn" coords="49 16"/>
                            <area
                                xml:id="response.json.service-compute"
                                units="linecolumn" coords="65 16"/>
                            <area
                                xml:id="response.json.service-monitor"
                                units="linecolumn" coords="87 16"/>
                            <area
                                xml:id="response.json.service-autoscale"
                                units="linecolumn" coords="97 16"/>
                            <area xml:id="response.json.tenant"
                                units="linecolumn" coords="121 24"/>
                            <area xml:id="response.json.url"
                                units="linecolumn" coords="122 24"/>
                            <area xml:id="response.json.region"
                                units="linecolumn" coords="124 24"/>
                            <area xml:id="response.json.servicename"
                                units="linecolumn" coords="133 16"/>
                            <area xml:id="response.json.servicetype"
                                units="linecolumn" coords="134 16"/>
                        </areaspec>
                        <programlisting language="json">
                                <xi:include href="samples/resAuthenticate.json" parse="text"/>
                            </programlisting>
                    </programlistingco>
                </example>
                <note>
                    <para>The information shown in the authentication
                        response example is for US-based accounts. If
                        you authenticate against the UK endpoint, the
                        response you receive shows the service catalog
                        information for UK-based accounts. </para>
                </note>
                <calloutlist>
                    <callout arearefs="response.json.token">
                        <para>This token can be presented to a service
                            as evidence of authentication. Tokens are
                            valid for a finite duration; a token's
                            default lifespan is 24 hours.</para>
                        <para>The token's
                            <code>expires</code> attribute denotes the
                            time after which the token automatically
                            becomes invalid. A token can be manually
                            revoked before the time identified by the
                                <code>expires</code> attribute. The
                                <code>expires</code> attribute predicts
                            a token's maximum possible lifespan but
                            does not guarantee that it will reach that
                            lifespan. Users are encouraged to cache a
                            token until it expires.</para>
                        <para>Authentication tokens are typically
                            valid for 24 hours. Applications should be
                            designed to re-authenticate after
                            receiving a
                            <errorcode>401</errorcode> (Unauthorized)
                            response from a service endpoint.</para>
                        <note>
                            <para>The token's expiration time is
                                formatted differently in the US and
                                UK. These response examples show the
                                US format. For examples of the UK
                                format, see <link
                                   xlink:href="http://docs.rackspace.com/auth/api/v2.0/auth-client-devguide/content/POST_authenticate_v2.0_tokens_.html"
                                   >http://docs.rackspace.com/auth/api/v2.0/auth-client-devguide/content/POST_authenticate_v2.0_tokens_.html</link>.</para>
                        </note>
                        <para/>
                    </callout>
                    <callout arearefs="response.json.dfltregion">
                        <para>Users can be assigned a default region.
                            If multiple endpoints are associated with
                            a service in the user's catalog, the
                            endpoint for the user's default region is
                            selected if it is available. In this
                            example, the user's default region is DFW,
                            and several of the services in the user's
                            catalog offer endpoints in that region and
                            the ORD region; whenever possible, the
                            user's work is directed to the DFW
                            region.</para>
                        <para/>
                    </callout>
                    <callout arearefs="response.json.role">
                        <para>Users can be assigned multiple roles,
                            with each role providing specific
                            privileges. In this example,
                                <code>jsmith</code> is the
                            administrative user for the account and
                            holds the fully-privileged
                                <code>identity:admin</code> role. Other
                            users might hold other roles with
                            different privileges. Roles are not
                            necessarily associated with actual job
                            functions such as Administrator, Operator,
                            Developer, Tester, or Trainer.</para>
                        <para/>
                    </callout>
                    <callout arearefs="response.json.catalog">
                        <para>The service catalog lists the services
                            this user can access. In this example, the
                            user can access one database service, one
                            load-balancing service, one compute
                            service (Cloud Servers OpenStack), one
                            object storage service (Cloud Files), one
                            monitoring service (Cloud Monitoring), one
                            autoscale service (&PRODNAME;), and one
                            DNS service. The catalog entry for each
                            service provides at least one endpoint URL
                            for that service. Other information, such
                            as regions, versions, and tenants, is
                            provided if it is relevant to a user's
                            access to a service.</para>
                        <para/>
                    </callout>
                    <callout arearefs="response.json.service-lb">
                        <para>This service catalog entry describes a
                            load-balancing service. To use &PRODNAME;,
                            you must have access to a load-balancing
                            service.</para>
                        <para/>
                    </callout>
                    <callout arearefs="response.json.service-compute">
                        <para>This service catalog entry describes a
                            compute service. To use &PRODNAME;, you
                            must have access to a compute
                            service.</para>
                        <para/>
                    </callout>
                    <callout arearefs="response.json.service-monitor">
                        <para>This service catalog entry describes a
                            monitoring service. To use &PRODNAME;, you
                            must have access to a monitoring
                            service.</para>
                        <para/>
                    </callout>
                    <callout
                        arearefs="response.json.service-autoscale">
                        <para>This service catalog entry describes
                            &PRODNAME;.</para>
                        <para/>
                    </callout>
                    <callout arearefs="response.json.tenant">
                        <para>Some services recognize the
                            specification of a tenant. If a service
                            does recognize tenants, the format of the
                            tenant specification is defined only by
                            the service. For details about whether and
                            how to specify a tenant, check the
                            documentation for the service that you are
                            using.</para>
                        <para/>
                    </callout>
                    <callout arearefs="response.json.url">
                        <para>An endpoint can be assigned public and
                            internal URLs. A public URL is accessible
                            from anywhere. Access to a public URL
                            usually incurs traffic charges. Internal
                            URLs are accessible only to services
                            within the same region. Access to an
                            internal URL is free of charge.</para>
                        <para/>
                    </callout>
                    <callout arearefs="response.json.region">
                        <para>A service can expose endpoints in
                            different regions. Regional endpoints
                            allow users to provision resources in a
                            manner that provides high
                            availability.</para>
                        <para>Some services are not region specific.
                            These services supply a single,
                            non-regional endpoint and do not provide
                            access to internal URLs.</para>
                        <para/>
                    </callout>
                    <callout arearefs="response.json.servicename">
                        <para>The service name attribute identifies
                            each unique service in the catalog. After
                            a service is created, its name does not
                            change. However, new services of the same
                            service type can be added to the catalog
                            with new names.</para>
                        <important>
                            <para>If you are programmatically parsing
                                an authentication response, use
                                service type rather than service name
                                to determine whether a user has access
                                to a particular kind of service.
                                Service type is stable across all
                                releases. New service types might be
                                developed, but existing service types
                                are not renamed. It is possible to
                                subscribe to multiple services of the
                                same type. Whatever those services are
                                named, you can always recognize them
                                by parsing for service type in the
                                authentication response's service
                                catalog.</para>
                        </important>
                        <para/>
                    </callout>
                    <callout arearefs="response.json.servicetype">
                        <para>The service type attribute identifies
                            services that perform similar functions,
                            regardless of service names. In this
                            example, the service named cloudFiles is
                            identified as <code>type="store"</code>,
                            indicating that it is a storage service
                            even though the word "storage" does not
                            appear in its name.</para>
                        <important>
                            <para>Use service type as the primary
                                value for locating a service. If
                                multiple endpoints of the same service
                                type exist in the same region, use
                                service name to locate the appropriate
                                service.</para>
                        </important>
                        <para/>
                    </callout>
                </calloutlist>
            </section>
        </section>
        <xi:include href="./chapters/rbac.xml"/>
        <section xml:id="serviceEndpoints">
            <title>Service access endpoints</title>
            <para>&PRODNAME; is a regionalized service. The user of
                the service is therefore responsible for appropriate
                replication, caching, and overall maintenance of
                &PRODNAME; data across regional boundaries to other
                &PROD; servers.</para>
            <para>The following table lists the service access
                endpoints for &PROD; though we recommend checking the
                endpoints returned in the authentication response for
                the most up-to-date information. </para>
            <?rax-fo keep-with-next?>
                <tip>
                    <para>"To help you decide which regionalized endpoint to use, 
                        read about special considerations for choosing a data center at the Rackspace Knowledge Center article
                        <link xlink:href="http://ord.admin.kc.rakr.net/knowledge_center/article/about-regions"> About Regions</link>."
                    </para>      
                </tip>
            <para>
                <table rules="all">
                    <caption>Regionalized Service Endpoints</caption>
                    <col width="11%"/>
                    <col width="11%"/>
                    <col width="16%"/>
                    <col width="16%"/>
                    <col width="16%"/>
                    <col width="16%"/>
                    <col width="16%"/>
                    <thead>
                        <tr align="center">
                            <td colspan="2">Region</td>
                            <td colspan="5">Endpoint</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr align="left">
                            <td colspan="2">Chicago (ORD)</td>
                            <td colspan="5">
                                <code>https://ord.autoscale.api.rackspacecloud.com/v1.0/</code>
                                <parameter>1234</parameter>/ </td>
                        </tr>
                        <tr align="left">
                            <td colspan="2">Dallas/Ft. Worth
                                (DFW)</td>
                            <td colspan="5">
                                <code>https://dfw.autoscale.api.rackspacecloud.com/v1.0/</code>
                                <parameter>1234</parameter>/ </td>
                        </tr>
                        <tr>
                            <td colspan="2">Dulles (IAD)</td>
                            <td colspan="5">
                                <code>https://iad.autoscale.api.rackspacecloud.com/v1.0/</code>
                                <parameter>1234</parameter>/ </td>
                        </tr>
                        <tr>
                            <td colspan="2">Hong Kong (HKG)</td>
                            <td colspan="5">
                                <code>https://hkg.autoscale.api.rackspacecloud.com/v1.0/</code>
                                <parameter>1234</parameter>/ </td>
                        </tr>
                        <tr align="left">
                            <td colspan="2">London (LON)</td>
                            <td colspan="5">
                                <code>https://lon.autoscale.api.rackspacecloud.com/v1.0/</code>
                                <parameter>1234</parameter>/</td>
                        </tr>
                        <tr align="left">
                            <td colspan="2">Sydney (SYD)</td>
                            <td colspan="5">
                                <code>https://syd.autoscale.api.rackspacecloud.com/v1.0/</code>
                                <parameter>1234</parameter>/</td>
                        </tr>
                    </tbody>
                </table>
            </para>
            <para>Replace the Tenant ID, <parameter>1234</parameter>,
                with your actual Tenant ID.</para>
            <para>You will find your tenant ID after the final '/' in
                the <code>publicURL</code> field returned by the
                authentication response. For example, in <olink
                    targetdoc="autoscale-devguide"
                    targetptr="auth-response-example-json">Example 2,
                    Authentication Response for US Endpoint:
                    JSON</olink>the <code>publicURL</code> field for
                    <code>autoscale</code>
                ("https://ord.autoscale.api.rackspacecloud.com/v1.0/
                    <emphasis role="bold">1100111</emphasis>") shows
                that the tenant ID is 1100111.</para>
        </section>
        <section xml:id="contractVersion">
            <title>Contract versions</title>
            <para>The &PROD; version defines the contract and build
                information for the API.</para>
            <para>The contract version denotes the data model and
                behavior that the API supports. The requested contract
                version is included in all request URLs. Different
                contract versions of the API might be available at any
                given time and are not guaranteed to be compatible
                with one another.</para>
            <example>
                <title>Sample request URL for contract version
                    1.0</title>
                <programlisting>https://ord.autoscale.api.rackspacecloud.com/
                        <emphasis role="strong">v1.0</emphasis>/1234</programlisting>
            </example>
            <note>
                <para>This document pertains to contract version
                    1.0.</para>
            </note>
        </section>
        <section xml:id="Request_Response_Types-d1e903">
            <title>Request and response types</title>
            <para>The &PRODNAME; API supports JSON data serialization formats only.
                The request body is assumed to be JSON, and the response body is returned as JSON.</para>
            <table rules="all">
                <caption>Response Format</caption>
                <?dbfo keep-together="always" ?>
                <thead>
                    <tr align="center">
                        <td>Format</td>
                        <td>Accept Header</td>
                        <td>Query Extension</td>
                        <td>Default</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>JSON</td>
                        <td>application/json</td>
                        <td>.json</td>
                        <td>Yes</td>
                    </tr>
                    <tr security="writeronly">
                        <td>XML</td>
                        <td>application/xml</td>
                        <td>.xml</td>
                        <td>No</td>
                    </tr>
                </tbody>
            </table>
        </section>
        <?hard-pagebreak?>
        <section xml:id="Limits-d1e1208">
            <title>Limits</title>
            <para>All accounts, by default, have a preconfigured set
                of thresholds (or limits) to manage capacity and
                prevent abuse of the system. The system recognizes
                    <firstterm>rate limits </firstterm> and
                    <firstterm>absolute limits </firstterm>. Rate
                limits are thresholds that are reset after a certain
                amount of time passes. Absolute limits are
                fixed.</para>
            <section xml:id="Rate_Limits-d1e1222">
                <!--
rate limits are managed by Repose rate limiting filter,
config at https://github.com/rackerlabs/autoscaling-chef/blob/master/site-cookbooks/repose/attributes/default.rb
-->
                <title>Rate limits</title>
                <para>Rate limits are specified in terms of both a
                    human-readable wildcard URI and a
                    machine-processable regular expression. The
                    regular expression boundary matcher '^' takes
                    effect after the root URI path.</para>
                <para>For example, the regular expression
                        <code>^/v1.0/execute</code> would match the
                    bolded portion of the following URI:
                    https://ord.autoscale.api.rackspacecloud.com
                        <emphasis role="bold"
                    >/v1.0/execute</emphasis>.</para>
                <para>For any user, all &PROD; operations are limited
                    to 1,000 calls per minute.</para>
                <para>In addition, the following table specifies the
                    default rate limits for specific &PROD; API
                    operations:</para>
                <table rules="all" width="556">
                    <caption>Default Rate Limits</caption>
                    <thead>
                        <tr align="center">
                            <td colspan="1">Method</td>
                            <td colspan="2">URI</td>
                            <td colspan="2">RegEx</td>
                            <td colspan="1">Default</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="1">&GET; &PUT; &POST;
                                &DELETE;</td>
                            <td colspan="2">
                                <code>/v1.0/execute/*</code>
                            </td>
                            <td colspan="2">
                                <code>/v1\\.0/execute/(.*)</code>
                            </td>
                            <td colspan="1">10 per second</td>
                        </tr>
                        <tr>
                            <td colspan="1">&GET; &PUT; &POST;
                                &DELETE;</td>
                            <td colspan="2">
                                <code>/v1.0/tenantId/*</code>
                            </td>
                            <td colspan="2">
                                <code>/v1\\.0/([0-9]+)/.+</code>
                            </td>
                            <td colspan="1">1000 per minute</td>
                        </tr>
                    </tbody>
                </table>
                <para>Rate limits are applied in order relative to the
                    verb, going from least to most specific. For
                    example, although the general threshold for
                    operations to <code>/v1/0/*</code> is 1,000 per
                    minute, one cannot &POST; to
                        <code>/v1.0/execute*</code>more than 1 time
                    per second, which is 60 times per minute.</para>
                <para>If you exceed the thresholds established for
                    your account, a <errorcode>413</errorcode> (Rate
                    Control) HTTP response is returned with a
                        <code>Retry-After</code> header to notify the
                    client when it can attempt to try again.</para>
            </section>
            <section xml:id="Absolute_Limits-d1e1397">
                <title>Absolute limits</title>
                <table rules="all">
                    <caption>Absolute Limits</caption>
                    <thead>
                        <tr>
                            <td colspan="1">Name</td>
                            <td colspan="3">Description</td>
                            <td colspan="1">Limit</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="1">Groups</td>
                            <td colspan="3">Maximum number of groups
                                allowed for your account </td>
                            <td colspan="1">1000</td>
                        </tr>
                        <tr>
                            <td colspan="1">Policies</td>
                            <td colspan="3">Maximum volume of Policies
                                per Group</td>
                            <td colspan="1">100</td>
                        </tr>
                        <tr>
                            <td colspan="1">Webhooks</td>
                            <td colspan="3">Maximum volume of Webhooks
                                per Policy</td>
                            <td colspan="1">25</td>
                        </tr>
                    </tbody>
                </table>
            </section>
        </section>
        <section xml:id="datetimeformat">
            <title>Date and time format</title>
            <para>The &PROD; service uses a specific date format for
                the display and consumption of date and time values.
                While the standard allows specification of time zones,
                &PROD; does not use time zones. All times are
                expressed as UTC time zone. </para>
            <para>The following tables show how the date and time
                format works. The first table identifies the date and
                time. The second table shows how a sample time appears
                when formatted for use by &PROD;.</para>
            <table rules="all" width="566">
                <caption>Explanation of Date and Time Format
                    Codes</caption>
                <col width="14%"/>
                <col width="86%"/>
                <thead>
                    <tr>
                        <td>Code</td>
                        <td>Description</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>yyyy</td>
                        <td>Four-digit year</td>
                    </tr>
                    <tr>
                        <td>MM</td>
                        <td>Two-digit month</td>
                    </tr>
                    <tr>
                        <td>dd</td>
                        <td>Two-digit day of month</td>
                    </tr>
                    <tr>
                        <td>T</td>
                        <td>Separator between date and time</td>
                    </tr>
                    <tr>
                        <td>HH</td>
                        <td>Two-digit hour of day (00-23)</td>
                    </tr>
                    <tr>
                        <td>mm</td>
                        <td>Two-digit minutes of hour (00-59)</td>
                    </tr>
                    <tr>
                        <td>ss</td>
                        <td>Two-digit seconds of the minute
                            (00-59)</td>
                    </tr>
                    <tr>
                        <td>Z</td>
                        <td>RFC 822 time zone</td>
                    </tr>
                </tbody>
            </table>
            <table rules="all">
                <caption>Example of Formatted Time</caption>
                <thead>
                    <tr>
                        <td>Format</td>
                        <td>Formatted Time</td>
                        <td>Unformatted Time</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <code>yyyy-MM-dd'T'HH:mm:ss.SSS</code>
                        </td>
                        <td>
                            <code>2013-05-19T08:07:08Z</code>
                        </td>
                        <td>May 19th, 2013 at 8:07:08 AM, GMT</td>
                    </tr>
                </tbody>
            </table>
            <para>
                <note>
                    <para>In Auto Scale, the time specified always
                        refers to the "UTC" time zone.</para>
                </note>
            </para>
        </section>
        <section xml:id="pagination">
            <title>Pagination</title>
            <para>The Auto Scale API supports pagination of items that
                are returned in API call responses. Pagination enables
                users to view all responses even if the number of
                items returned in the response body is longer than
                what fits on one page.</para>
            <para>The pagination limit for the Auto Scale API is 100.
                This means you can view 100 items at a time.</para>
            <para>For example, if you want to get a list of all the
                scaling groups, and there are more than 100 groups,
                you see the first 100 groups on one page and then a
                link at the bottom of the page that takes you to the
                next page, which contains the next 100 items.</para>
            <para>A pagination limit that is set beyond 100 is
                defaulted to 100. And a limit that is set to smaller
                than 1 is defaulted to 1.</para>
            <para>The Auto Scale API paginates the following
                items:</para>
            <itemizedlist>
                <listitem>
                    <para>scaling groups</para>
                </listitem>
                <listitem>
                    <para>scaling policies</para>
                </listitem>
                <listitem>
                    <para>webhooks</para>
                </listitem>
            </itemizedlist>

            <para>To navigate the collection of items that are
                returned in the request body, you can set the
                following parameters in the URI: </para>
            <para>
                <table rules="all">
                    <caption>limit and marker Pagination
                        Parameters</caption>
                    <col width="20%"/>
                    <col width="80%"/>
                    <thead>
                        <tr>
                            <td>Parameter</td>
                            <td>Description</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <parameter>limit</parameter>
                            </td>
                            <td>Specifies the number of items that can
                                be returned on one page. If the client
                                requests a <emphasis role="italic"
                                   >limit</emphasis> beyond the 100
                                items supported by Auto Scale, an
                                overLimit (413) response code will be
                                returned.</td>
                        </tr>
                        <tr>
                            <td>
                                <parameter>marker</parameter>
                            </td>
                            <td>Specifies the ID of the last item in
                                the previous list. Items are sorted by
                                create time in descending order. When
                                a create time is not available they
                                are sorted by ID. If the ID specified
                                for this parameter is invalid, a 400
                                response code (badRequest) will be
                                returned. </td>
                        </tr>
                    </tbody>
                </table>
            </para>
            <para>
                <note>
                    <para>The <parameter>limit</parameter> and
                            <parameter>marker</parameter> parameters
                        are optional. </para>
                </note>
            </para>

            <section xml:id="Paginating_Group_Lists">
                <title>Paginating group lists</title>
                <para>When you submit a request for a group manifest,
                    you receive a list of all the available scaling
                    groups and associated policies. However, the
                    response body only lists 100, or whatever
                    number of responses per page you configure using
                    the <parameter>limit</parameter> parameter. If
                    there are more results available than what you
                    specified in the <parameter>limit</parameter>
                    parameter, a <code>next</code> link is provided in
                    the <parameter>rel</parameter> in the response
                    body. This is shown in the following example that has
                    the <parameter>limit</parameter> parameter set to
                    2 (two responses per page):</para>
                <para> <code>$ curl -H "x-auth-token: ${AUTHTOKEN}"
                    https://dfw.autoscale.api.rackspacecloud.com/v1.0/851153/groups?limit=2
                    | python -m json.tool </code></para>
                <example>
                    <title>Paginating group lists example</title>
                    <programlisting language="json">{
    "groups": [
        {
            "id": "1bb9d1e7-d7d2-4a87-baa3-8902fbfc8f02",
            "links": [
                {
                    "href": "https://dfw.autoscale.api.rackspacecloud.com/v1.0/851153/groups/1bb9d1e7-d7d2-4a87-baa3-8902fbfc8f02/",
                    "rel": "self"
                }
            ],
            "state": {
                "active": [],
                "activeCapacity": 0,
                "desiredCapacity": 0,
                "name": "test_sgroup711740",
                "paused": false,
                "pendingCapacity": 0
            }
        },
        {
            "id": "d8a0ed6a-c1cd-4578-85e9-ebe88291791d",
            "links": [
                {
                    "href": "https://dfw.autoscale.api.rackspacecloud.com/v1.0/851153/groups/d8a0ed6a-c1cd-4578-85e9-ebe88291791d/",
                    "rel": "self"
                }
            ],
            "state": {
                "active": [],
                "activeCapacity": 0,
                "desiredCapacity": 0,
                "name": "test_sgroup453884",
                "paused": false,
                "pendingCapacity": 0
            }
        }
    ],
    "groups_links": [
        {
            "href": "https://dfw.autoscale.api.rackspacecloud.com/v1.0/851153/groups/?limit=2&amp;marker=d8a0ed6a-c1cd-4578-85e9-ebe88291791d",
            "rel": "next"
        }
    ]
}
                            </programlisting>
                </example>
                <para>The <parameter>limit</parameter> parameter in
                    the example above is set to 2, which means no more
                    than 2 items can be displayed on one page. For
                    Auto Scale, this number must be between 1 and 100.
                    So if you provide a query argument of more than
                    100, it will default to 100, and if you set the
                    limit to less than 1, it will default to 1.</para>
                <para>If you provide an invalid query argument for
                        <parameter>limit</parameter>, a 400 response
                    code will be returned. The
                        <parameter>marker</parameter> parameter
                    specifies the last seen group ID. When you click
                    on the link that is returned, all the groups
                    displayed will have group Ids that are greater
                    than "f82bb000-f451-40c8-9dc3-6919097d2f7e". </para>
            </section>
            <section xml:id="Paginating_Policy_Lists">
                <title>Paginating policy lists</title>
                <para>When you submit a request to obtain all the
                    policies associated with a scaling group, a list
                    of policies is returned. However, the
                    response body only lists 100, or whatever
                    number of responses per page you configure using
                    the <parameter>limit</parameter> parameter. If
                    there are more results available than what you
                    specified in the <parameter>limit</parameter>
                    parameter, a <code>next</code> link is provided in
                    the <parameter>rel</parameter> in the response
                    body. This is shown in the following example that has
                    the <parameter>limit</parameter> parameter set to
                    2 (two responses per page):</para>
                <para><code>$ curl -H "x-auth-token: ${AUTHTOKEN}"
                    https://dfw.autoscale.api.rackspacecloud.com/v1.0/851153/groups/f3af279b-10d7-4a26-aead-98c00bff260f/policies?limit=2
                    | python -m json.tool</code></para>
                <example>
                    <title>Paginating policy lists example</title>
                    <programlisting language="json">{
    "policies": [
        {
            "change": 10,
            "cooldown": 5,
            "id": "25adccf9-0077-4510-b37d-90a48c9dc08f",
            "links": [
                {
                    "href": "https://dfw.autoscale.api.rackspacecloud.com/v1.0/851153/groups/f3af279b-10d7-4a26-aead-98c00bff260f/policies/25adccf9-0077-4510-b37d-90a48c9dc08f/",
                    "rel": "self"
                }
            ],
            "name": "scale up by 10",
            "type": "webhook"
        },
        {
            "args": {
                "cron": "0 */2 * * *"
            },
            "change": 10,
            "cooldown": 3,
            "id": "2d321cd2-b873-4865-9941-5ea6783fd58c",
            "links": [
                {
                    "href": "https://dfw.autoscale.api.rackspacecloud.com/v1.0/851153/groups/f3af279b-10d7-4a26-aead-98c00bff260f/policies/2d321cd2-b873-4865-9941-5ea6783fd58c/",
                    "rel": "self"
                }
            ],
            "name": "Schedule policy to run repeately",
            "type": "schedule"
        }
    ],
    "policies_links": [
        {
            "href": "https://dfw.autoscale.api.rackspacecloud.com/v1.0/851153/groups/f3af279b-10d7-4a26-aead-98c00bff260f/policies/?limit=2&amp;marker=2d321cd2-b873-4865-9941-5ea6783fd58c",
            "rel": "next"
        }
    ]
}
                            </programlisting>
                </example>
                <para>The <parameter>marker</parameter> parameter
                    points to the last seen policy ID. When you click
                    on the link that is returned, all the policies
                    displayed will have policy Ids that are greater
                    than "f82bb000-f451-40c8-9dc3-6919097d2f7e". </para>
            </section>
            <section xml:id="Paginating_Webhook_lists">
                <title>Paginating webhook lists</title>
                <para>When you submit a request to obtain all the
                    webhooks associated with a policy, a list of
                    webhooks is returned. However, the
                    response body only lists 100, or whatever
                    number of responses per page you configure using
                    the <parameter>limit</parameter> parameter. If
                    there are more results available than what you
                    specified in the <parameter>limit</parameter>
                    parameter, a <code>next</code> link is provided in
                    the <parameter>rel</parameter> in the response
                    body. This is shown in the following example that has
                    the <parameter>limit</parameter> parameter set to
                    2 (two responses per page):</para>
                <para><code>$ curl -H "x-auth-token: ${AUTHTOKEN}"
                    https://dfw.autoscale.api.rackspacecloud.com/v1.0/851153/groups/f3af279b-10d7-4a26-aead-98c00bff260f/policies/25adccf9-0077-4510-b37d-90a48c9dc08f/webhooks?limit=2
                    | python -m json.tool</code></para>
                <example>
                    <title>Paginating webhook lists example</title>
                    <programlisting language="json">{
    "webhooks": [
        {
            "id": "012d0b95-8185-4955-be00-cee9bc25d177",
            "links": [
                {
                    "href": "https://dfw.autoscale.api.rackspacecloud.com/v1.0/851153/groups/f3af279b-10d7-4a26-aead-98c00bff260f/policies/25adccf9-0077-4510-b37d-90a48c9dc08f/webhooks/012d0b95-8185-4955-be00-cee9bc25d177/",
                    "rel": "self"
                },
                {
                    "href": "https://dfw.autoscale.api.rackspacecloud.com/v1.0/execute/1/3ae6d5b89b471fd6ac2d8496e19bea1ae6e766c83869903de745bf7ae3fbfd45/",
                    "rel": "capability"
                }
            ],
            "metadata": {},
            "name": "webhook3"
        },
        {
            "id": "a5aefc55-1ac8-41a0-8d70-7ee30f56af69",
            "links": [
                {
                    "href": "https://dfw.autoscale.api.rackspacecloud.com/v1.0/851153/groups/f3af279b-10d7-4a26-aead-98c00bff260f/policies/25adccf9-0077-4510-b37d-90a48c9dc08f/webhooks/a5aefc55-1ac8-41a0-8d70-7ee30f56af69/",
                    "rel": "self"
                },
                {
                    "href": "https://dfw.autoscale.api.rackspacecloud.com/v1.0/execute/1/ad1cad8361963cc350ac0f1fc4edd2cacc24e0d77eee03b8c0cfaf7feeec7ac3/",
                    "rel": "capability"
                }
            ],
            "metadata": {},
            "name": "webhook1"
        }
    ],
    "webhooks_links": [
        {
            "href": "https://dfw.autoscale.api.rackspacecloud.com/v1.0/851153/groups/f3af279b-10d7-4a26-aead-98c00bff260f/policies/25adccf9-0077-4510-b37d-90a48c9dc08f/webhooks/?limit=2&amp;marker=a5aefc55-1ac8-41a0-8d70-7ee30f56af69",
            "rel": "next"
        }
    ]
}
                            </programlisting>
                </example>
                <para>The <parameter>marker</parameter> parameter
                    points to the last seen webhook ID. When you click
                    on the link that is provided in the response body,
                    all the webhooks displayed will have webhook Ids
                    that are greater than
                    "f82bb000-f451-40c8-9dc3-6919097d2f7e". </para>
            </section>
        </section>
        <section xml:id="server-flavors">
            <title>Server flavors</title>
            <para>When configuring a Cloud Server image through the
                Control Panel or the API, you chose a specific
                server flavor. A flavor is an available hardware
                configuration for a server. Each flavor has a unique
                combination of disk space and memory capacity. The
                server flavor that is specified in the Control Panel
                maps to a specific flavor ID in the Rackspace API. The
                following table outlines the mapping between flavor ID
                and the available flavors in the Control Panel.</para>
            <para>For more information and details on flavors, see the
                    <link
                    xlink:href="http://docs.rackspace.com/servers/api/v2/cs-devguide/content/server_flavors.html">Server Flavors</link> section in the
                    <citetitle>Rackspace Cloud Servers Developer's Guide</citetitle>.</para>
            <note><para>The Standard Instance flavors are being phased out and should not be used for new servers. </para></note>
            <note><para>There are new server flavor names and some server flavor names have recently changed:
            <itemizedlist>
                <listitem><para>Performance 1 flavors are now General Purpose v1 flavors</para></listitem>
                <listitem><para>Performance 2 flavors are now I/O v1 flavors</para></listitem>
            </itemizedlist></para>
                <para>Use the <link xlink:href="http://docs.rackspace.com/servers/api/v2/cs-devguide/content/List_Flavors-d1e4188.html">List Servers</link> operation, 
                    described in the <citetitle>Rackspace Cloud Servers Developer's Guide</citetitle> to get a list of all current servers. </para></note>
            <table rules="all">
                <caption>Rackspace Cloud Server Flavors</caption>
                <col width="30%"/>
                <col width="30%"/>
                <col width="20%"/>
                <col width="10%"/>
                <col width="10%"/>
                <thead>
                    <tr>
                        <td align="center">Flavor ID</td>
                        <td align="center">Name</td>
                        <td align="center">Memory (MB)</td>
                        <td align="center">Disk</td>
                        <td align="center">VCPUs</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>2</td>
                        <td>512 MB Standard Instance</td>
                        <td>512</td>
                        <td>20</td>
                        <td>1</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>1 GB Standard Instance</td>
                        <td>1024</td>
                        <td>40</td>
                        <td>1</td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td>2 GB Standard Instance</td>
                        <td>2048</td>
                        <td>80</td>
                        <td>2</td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td>4 GB Standard Instance</td>
                        <td>4096</td>
                        <td>160</td>
                        <td>2</td>
                    </tr>
                    <tr>
                        <td>6</td>
                        <td>8 GB Standard Instance</td>
                        <td>8192</td>
                        <td>320</td>
                        <td>4</td>
                    </tr>
                    <tr>
                        <td>7</td>
                        <td>15 GB Standard Instance</td>
                        <td>15360</td>
                        <td>620</td>
                        <td>6</td>
                    </tr>
                    <tr>
                        <td>8</td>
                        <td>30 GB Standard Instance</td>
                        <td>30720</td>
                        <td>1200</td>
                        <td>8</td>
                    </tr>
                    <tr>
                        <td>general1-1</td>
                        <td>1 GB General Purpose v1</td>
                        <td>1024</td>
                        <td>20</td>
                        <td>1</td>
                    </tr>
                    <tr>
                        <td>general1-2</td>
                        <td>2 GB General Purpose v1</td>
                        <td>2048</td>
                        <td>40</td>
                        <td>2</td>
                    </tr>
                    <tr>
                        <td>general1-4</td>
                        <td>4 GB General Purpose v1</td>
                        <td>4096</td>
                        <td>80</td>
                        <td>4</td>
                    </tr>
                    <tr>
                        <td>general1-8</td>
                        <td>8 GB General Purpose v1</td>
                        <td>8192</td>
                        <td>160</td>
                        <td>8</td>
                    </tr>
                    <tr>
                        <td>compute1-4 </td>
                        <td>3.75 GB Compute v1 </td>
                        <td>3840</td>
                        <td>0</td>
                        <td>2</td>
                    </tr>
                    <tr>
                        <td>compute1-8</td>
                        <td>7.5 GB Compute v1 </td>
                        <td>7680</td>
                        <td>0</td>
                        <td>4</td>
                    </tr>
                    <tr>
                        <td>compute1-15</td>
                        <td>15 GB Compute v1 </td>
                        <td>15360 </td>
                        <td>0</td>
                        <td>8</td>
                    </tr>
                    <tr>
                        <td>compute1-30</td>
                        <td>30 GB Compute v1 </td>
                        <td>30720</td>
                        <td>0</td>
                        <td>16</td>
                    </tr>
                    <tr>
                        <td>compute1-60</td>
                        <td>60 GB Compute v1 </td>
                        <td>61440 </td>
                        <td>0</td>
                        <td>32</td>
                    </tr>
                    <tr>
                        <td>io1-15 </td>
                        <td>15 GB I/O v1</td>
                        <td>15360</td>
                        <td>40</td>
                        <td>4</td>
                    </tr>
                    <tr>
                        <td>io1-30</td>
                        <td>30 GB I/O v1</td>
                        <td>30720</td>
                        <td>40</td>
                        <td>8</td>
                    </tr>
                    <tr>
                        <td>io1-60</td>
                        <td>60 GB I/O v1</td>
                        <td>61440</td>
                        <td>40</td>
                        <td>16</td>
                    </tr>
                    <tr>
                        <td>io1-90</td>
                        <td>90 GB I/O v1</td>
                        <td>92160</td>
                        <td>40</td>
                        <td>24</td>
                    </tr>
                    <tr>
                        <td>io1-120</td>
                        <td>120 GB I/O v1 </td>
                        <td>122880 </td>
                        <td>40</td>
                        <td>32</td>
                    </tr>
                    <tr>
                        <td>memory1-15 </td>
                        <td>15 GB Memory v1</td>
                        <td>15360</td>
                        <td>0</td>
                        <td>2</td>
                    </tr>
                    <tr>
                        <td>memory1-30</td>
                        <td>30 GB Memory v1</td>
                        <td>30720</td>
                        <td>0</td>
                        <td>4</td>
                    </tr>
                    <tr>
                        <td>memory1-60</td>
                        <td>60 GB Memory v1</td>
                        <td>61440</td>
                        <td>0</td>
                        <td>8</td>
                    </tr>
                    <tr>
                        <td>memory1-120</td>
                        <td>120 GB Memory v1 </td>
                        <td>122880 </td>
                        <td>0</td>
                        <td>16</td>
                    </tr>
                    <tr>
                        <td>memory1-240</td>
                        <td>240 GB Memory v1 </td>
                        <td>245760</td>
                        <td>0</td>
                        <td>32</td>
                    </tr>
                    <tr>
                        <td>onmetal-compute1</td>
                        <td>OnMetal Compute v1  </td>
                        <td>32768  </td>
                        <td>32</td>
                        <td>20</td>
                    </tr>
                    <tr>
                        <td>onmetal-io1 </td>
                        <td>OnMetal I/O v1  </td>
                        <td>131072 </td>
                        <td>32</td>
                        <td>40</td>
                    </tr>
                    <tr>
                        <td>onmetal-memory1 </td>
                        <td>OnMetal Memory v1 </td>
                        <td>524288  </td>
                        <td>32</td>
                        <td>24</td>
                    </tr>
                </tbody>
            </table>
            <para>
                <note>
                    <para>Auto Scale only supports Next Generation
                        servers. No First Generation servers are
                        supported.</para>
                </note>
            </para>
        </section>
        <section xml:id="faults-dle101">
            <title>Faults</title>
            <para>If any &PRODNAME; request results in an error, the
                service returns an appropriate 4 <emphasis
                    role="italic">xx</emphasis> or 5 <emphasis
                    role="italic">xx</emphasis> HTTP status code, and
                the following information in the body:</para>
            <itemizedlist>
                <listitem>
                    <para>Title</para>
                </listitem>
                <listitem>
                    <para>Exception type</para>
                </listitem>
                <listitem>
                    <para>HTTP status code</para>
                </listitem>
                <listitem>
                    <para>Message</para>
                </listitem>
            </itemizedlist>
            <para>For &PROD; users, common faults are caused by
                invalid configurations. For example, trying to boot a
                server from an image that does not exist causes a
                fault, as does trying to attach a load balancer to a
                scaling group that does not exist.</para>
            <para>An example of error message syntax:</para>
            <example>
                <title>Error message syntax</title>
                <programlisting>
{ "error": {
 "type": "failure type",
 "code": HTTP status code,
 "message": "detailed message",
 "details": "any specific details about the error"
 }
}
                        </programlisting>
            </example>
            <para>An example of an error message:</para>
            <example>
                <title>Error message: NoSuchScalingGroup</title>
                <programlisting>{ "error": {
 "type": "NoSuchScalingGroupError",
 "code": 404,
 "message": "No such scaling group 5154258e-d7b7-43a3-a8a9-708b66fae2a2 for tenant 823364",
 "details": ""
 }
}
                        </programlisting>
            </example>
            <para>Error information for each API operation is included with the description of that 
                operation in the API reference section.</para>
        </section>
    </chapter>


        <xi:include href="chapters/apiref.xml"/>
    <chapter xml:id="Glossary">
        <title>Glossary</title>
        <!-- Glossary section, defining basic terms, is external so it's handy for Getting Started to share. -->
        <xi:include href="chapters/glossary.xml" xpointer="element(Glossary-000)"/>
        <!-- -->
    </chapter>
    <xi:include href="chapters/appendix-diy.xml"/>
</book>
